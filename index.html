<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="main.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>

<body>
    <button id="playButton">Play</button>
    <button id="getInfo">Get Info</button>
    <!-- <div id="words"></div> -->
    <!-- <div class="page" style="margin-top:200px;">WEB</div>
    <div class="page">APP</div>
    <div id="seo" class="page">SEO</div> -->
    <div id=animatorBox>
        <div style="text-align: center; font-weight: bold;">AnimatorBox</div>
        <div id=flexstyleHolder>
            <div id="frameSelector">
                <div style="text-align: center; font-weight: bold;">Box Left Location</div>
                <div>
                    <input type="number" id="leftinput" class="inputNumber"> %
                </div>
            </div>
            <div id="frameSelector">
                <div style="text-align: center; font-weight: bold;">Box Top Location</div>
                <div>
                    <input type="number" id="topInput" class="inputNumber"> %
                </div>
            </div>
            <div id="frameSelector">
                <div style="text-align: center; font-weight: bold;">Perspective Adjust</div>
                <input type="number" id="inputNumber2">
            </div>
        </div>
        <div id=flexstyleHolder>
            <div id="frameSelector">
                <div style="text-align: center; font-weight: bold;">Width Perecentage</div>
                <div>
                    <input type="number" id="widthInput" class="inputNumber"> %
                </div>
            </div>
            <div id="frameSelector">
                <div style="text-align: center; font-weight: bold;">Height Perecentage</div>
                <div>
                    <input type="number" id="heightInput" class="inputNumber"> %
                </div>
            </div>
            <button id="saveFile">Save</button>
        </div>
        <div id="frameSelector">
            <div style="text-align: center; font-weight: bold;">Y-AXIS Rotation 90 - 270 deg</div>
            <div class="slidecontainer">
                <input type="range" min="90" max="270" value="90" class="slider" id="myRange2">
            </div>
            <div id="demo2" style="text-align: center; font-weight: bold;">Angle: </div>
        </div>
        <div id="frameSelector">
            <div style="text-align: center; font-weight: bold;">X-AXIS Rotation 90 - 270 deg</div>
            <div class="slidecontainer">
                <input type="range" min="90" max="270" value="90" class="slider" id="myRange15">
            </div>
            <div id="demo45" style="text-align: center; font-weight: bold;">Angle: </div>
        </div>
        <div id="frameSelector">
            <div style="text-align: center; font-weight: bold;">FRAME SELECTOR</div>
            <div class="slidecontainer">
                <input type="range" min="1" max="81" value="1" class="slider" id="myRange">
            </div>
            <div id="demo" style="text-align: center; font-weight: bold;">Frame: </div>
        </div>
        <div id="rotatorBox">

            <div style="text-align: center; font-weight: bold;"> Rotation
            </div>
            <div style="text-align: center; font-weight: bold;" id=RotationDeg> 0 Deg
            </div>
            <div>
                <input type="range" orient="vertical" min="-180" Max="180" Value="0" id="largeRotation" />
                <input type="range" orient="vertical" min="-50" Max="50" Value="0" id="smallRotation" />
            </div>
            <button id="resetRotation">Reset</button>
        </div>

    </div>
    <!-- </div> -->
    <div class="mainBlock">

        <div class="videoBlock">
            <div id="videopage1">Video</div>
            <div id="videopage2">Video</div>
        </div>
    </div>



    <div id="set-height"></div>

    <video id="v0" tabindex="0" , autobuffer preload>
        <source type='video/mp4;codecs="avc1.42E01E, mp4a.40.2"' src="./newbackrgoundtransparent.webm">
        </source>
    </video>

    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-database.js"></script>
    <script src="sticky.js"></script>
    <script>
        const centerToBottom = {
            1: { height: "21.2", left: "45", top: "37.5", transform: "180", width: "32.8" },
            2: { height: "21.2", left: "45.2", top: "37.8", transform: "180", width: "32.8" },
            3: { height: "21.2", left: "45.4", top: "38", transform: "180", width: "32.8" },
            4: { height: "21.3", left: "45.4", top: "38", transform: "181", width: "32.8" },
            5: { height: "21.3", left: "46", top: "38.6", transform: "181", width: "32.6" },
            6: { height: "21.35", left: "46.1", top: "38.9", transform: "181", width: "32.5" },
            7: { height: "21.35", left: "46.2", top: "38.9", transform: "181", width: "32.5" },
            8: { height: "21.3", left: "46.7", top: "39.9", transform: "182", width: "32.5" },
            9: { height: "21.2", left: "47", top: "40.5", transform: "182", width: "32.6" },
            10: { height: "21.2", left: "47", top: "40.5", transform: "184", width: "32.6" },
            11: { height: "21.3", left: "47.9", top: "41.6", transform: "184", width: "32.5" },
            12: { height: "21.2", left: "48.2", top: "42.4", transform: "184", width: "32.6" },
            13: { height: "21.2", left: "48.2", top: "42.4", transform: "184", width: "32.6" },
            14: { height: "21.3", left: "49.2", top: "43.8", transform: "186", width: "32.5" },
            15: { height: "21.1", left: "49.6", top: "44.8", transform: "188", width: "32.6" },
            16: { height: "21.1", left: "49.6", top: "44.8", transform: "188", width: "32.6" },
            17: { height: "21.1", left: "51", top: "46.5", transform: "187", width: "32" },
            18: { height: "21.1", left: "51.7", top: "47.4", transform: "188", width: "31.7" },
            19: { height: "21.1", left: "51.7", top: "47.4", transform: "188", width: "31.7" },
            20: { height: "21.0", left: "52.9", top: "49.4", transform: "189", width: "31.5" },
            21: { height: "21.0", left: "53.8", top: "50.5", transform: "190", width: "31" },
            22: { height: "21.0", left: "53.8", top: "50.5", transform: "190", width: "31" },
            23: { height: "21.0", left: "54.8", top: "52.7", transform: "193", width: "31.6" },
            24: { height: "21.2", left: "55.6", top: "53.6", transform: "194", width: "31.2" },
            25: { height: "21.2", left: "55.6", top: "53.6", transform: "194", width: "31.2" },
            26: { height: "21.2", left: "57.2", top: "55.8", transform: "195", width: "30.2" },
            27: { height: "21.1", left: "57.9", top: "57", transform: "197", width: "30.1" },
            28: { height: "21.1", left: "57.9", top: "57", transform: "197", width: "30.1" },
            29: { height: "21.1", left: "59.5", top: "59.2", transform: "199", width: "29.6" },
            30: { height: "21.0", left: "60.3", top: "60.5", transform: "200", width: "28.9" },
            31: { height: "21.0", left: "60.3", top: "60.5", transform: "200", width: "28.9" },
            32: { height: "21.0", left: "61.6", top: "62.9", transform: "203", width: "28.4" },
            33: { height: "21", left: "62.2", top: "64", transform: "205", width: "28.6" },
            34: { height: "21", left: "62.2", top: "64", transform: "205", width: "28.6" },
            35: { height: "21.2", left: "63.6", top: "66.3", transform: "209", width: "28.3" },
            36: { height: "21", left: "64.6", top: "67.6", transform: "209", width: "27" },
            37: { height: "21", left: "64.6", top: "67.6", transform: "209", width: "27" },
            38: { height: "20.8", left: "66.3", top: "70", transform: "210", width: "25.4" },
            39: { height: "20.8", left: "67", top: "71.2", transform: "213", width: "25.3" },
            40: { height: "20.8", left: "67", top: "71.2", transform: "213", width: "25.3" },
            41: { height: "20.5", left: "67.9", top: "73.5", transform: "217", width: "25.1" },
            42: { height: "20.5", left: "68.5", top: "74.8", transform: "218", width: "24.3" },
            43: { height: "20.5", left: "68.5", top: "74.8", transform: "218", width: "24.3" },
            44: { height: "20.4", left: "69.3", top: "77.1", transform: "221", width: "24" },
            45: { height: "20.6", left: "70.2", top: "78.1", transform: "223", width: "23" },
            46: { height: "20.6", left: "70.2", top: "78.1", transform: "223", width: "23" },
            47: { height: "20.5", left: "71.2", top: "80.1", transform: "226", width: "22" },
            48: { height: "20.3", left: "71.3", top: "81.2", transform: "228", width: "22" },
            49: { height: "20.3", left: "71.3", top: "81.2", transform: "228", width: "22" },
            50: { height: "20.2", left: "72.2", top: "83", transform: "232", width: "21" },
            51: { height: "20.2", left: "72.3", top: "84", transform: "235", width: "20.9" },
            52: { height: "20.2", left: "72.3", top: "84", transform: "235", width: "20.9" },
            53: { height: "20.2", left: "72.5", top: "85.8", transform: "239", width: "20.8" },
            54: { height: "20.2", left: "72.6", top: "86.8", transform: "241", width: "20.7" },
            55: { height: "20.2", left: "72.6", top: "86.8", transform: "241", width: "20.7" },
            56: { height: "20.2", left: "72.7", top: "88", transform: "246", width: "20.7" },
            57: { height: "20.2", left: "72.7", top: "89", transform: "248", width: "20.7" },
            58: { height: "20.2", left: "72.7", top: "89", transform: "248", width: "20.7" },
            59: { height: "20.2", left: "73", top: "91", transform: "250", width: "20.7" },
            60: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            61: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            62: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            63: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            64: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            65: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            66: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            67: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            68: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            69: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            70: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            71: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            72: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            73: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            74: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            75: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            76: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            77: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            78: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            79: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            80: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
            81: { height: "20.2", left: "73", top: "93", transform: "251", width: "20.7" },
        }
        const topToBottom = {
            1: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            2: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            3: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            4: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            5: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            6: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            7: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            8: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            9: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            10: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            11: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            12: { height: "19", left: "24.4", top: "-22", transform: "100", width: "22.4" },
            13: { height: "19", left: "24.4", top: "-19", transform: "99", width: "22.4" },
            14: { height: "19", left: "24.4", top: "-17", transform: "101", width: "22.4" },
            15: { height: "19", left: "24.4", top: "-16", transform: "103", width: "22.3" },
            16: { height: "19", left: "24.4", top: "-16", transform: "103", width: "22.3" },
            17: { height: "19", left: "24.6", top: "-15", transform: "106", width: "22.3" },
            18: { height: "19", left: "24.4", top: "-13.5", transform: "106", width: "22.3" },
            19: { height: "19", left: "24.4", top: "-13.5", transform: "106", width: "22.3" },
            20: { height: "19", left: "24.8", top: "-13", transform: "110", width: "22.3" },
            21: { height: "19", left: "24.6", top: "-12.1", transform: "111", width: "22.7" },
            22: { height: "19", left: "24.6", top: "-12.1", transform: "111", width: "22.7" },
            23: { height: "19", left: "25", top: "-11", transform: "115", width: "22.7" },
            24: { height: "19", left: "25", top: "-10", transform: "118", width: "22.8" },
            25: { height: "19", left: "25", top: "-10", transform: "118", width: "22.8" },
            26: { height: "19.8", left: "25.4", top: "-9", transform: "121", width: "22.8" },
            27: { height: "19.8", left: "25.4", top: "-8", transform: "123", width: "23" },
            28: { height: "19.8", left: "25.4", top: "-8", transform: "123", width: "23" },
            29: { height: "19.8", left: "24.8", top: "-6", transform: "125", width: "25" },
            30: { height: "19.8", left: "24.3", top: "-5.4", transform: "126", width: "26.2" },
            31: { height: "19.8", left: "24.3", top: "-5.4", transform: "126", width: "26.2" },
            32: { height: "20", left: "24.7", top: "-3.5", transform: "130", width: "26.2" },
            33: { height: "20", left: "24.7", top: "-2.8", transform: "130", width: "27.2" },
            34: { height: "20", left: "24.7", top: "-2.8", transform: "130", width: "27.2" },
            35: { height: "19.8", left: "25.4", top: "-.5", transform: "133", width: "27.7" },
            36: { height: "19.9", left: "25.7", top: ".6", transform: "136", width: "27.7" },
            37: { height: "19.9", left: "25.7", top: ".6", transform: "136", width: "27.7" },
            38: { height: "20.4", left: "26", top: "2.2", transform: "138", width: "28.6" },
            39: { height: "20.4", left: "26.2", top: "3.3", transform: "139", width: "29.3" },
            40: { height: "20.4", left: "26.2", top: "3.3", transform: "139", width: "29.3" },
            41: { height: "20.4", left: "26.9", top: "5.6", transform: "143", width: "30.1" },
            42: { height: "20.4", left: "27.7", top: "6.7", transform: "145", width: "29.9" },
            43: { height: "20.4", left: "27.7", top: "6.7", transform: "145", width: "29.9" },
            44: { height: "20.4", left: "28.6", top: "9", transform: "148", width: "30.4" },
            45: { height: "20.5", left: "29.1", top: "10.1", transform: "150", width: "30.6" },
            46: { height: "20.5", left: "29.1", top: "10.1", transform: "150", width: "30.6" },
            47: { height: "20.5", left: "30.3", top: "12.4", transform: "153", width: "30.8" },
            48: { height: "20.7", left: "31", top: "13.4", transform: "154", width: "30.8" },
            49: { height: "20.7", left: "31", top: "13.4", transform: "154", width: "30.8" },
            50: { height: "20.7", left: "31.8", top: "15.6", transform: "157", width: "31.6" },
            51: { height: "20.8", left: "32.5", top: "16.7", transform: "158", width: "31.6" },
            52: { height: "20.8", left: "32.5", top: "16.7", transform: "158", width: "31.6" },
            53: { height: "21", left: "33.6", top: "18.8", transform: "160", width: "32.1" },
            54: { height: "21", left: "34.2", top: "19.9", transform: "160", width: "32.1" },
            55: { height: "21", left: "34.2", top: "19.9", transform: "160", width: "32.1" },
            56: { height: "21", left: "35.5", top: "22", transform: "164", width: "32.1" },
            57: { height: "21.3", left: "36.2", top: "22.9", transform: "166", width: "32.3" },
            58: { height: "21.3", left: "36.2", top: "22.9", transform: "166", width: "32.3" },
            59: { height: "21.1", left: "37.4", top: "25.1", transform: "167", width: "32.3" },
            60: { height: "21", left: "38", top: "26.1", transform: "167", width: "32.3" },
            61: { height: "21", left: "38", top: "26.1", transform: "167", width: "32.3" },
            62: { height: "21", left: "39.3", top: "27.9", transform: "171", width: "32.3" },
            63: { height: "21", left: "39.9", top: "28.7", transform: "172", width: "32.4" },
            64: { height: "21", left: "39.9", top: "28.7", transform: "172", width: "32.4" },
            65: { height: "21", left: "40.8", top: "30.3", transform: "174", width: "32.5" },
            66: { height: "21", left: "41.3", top: "31.2", transform: "174", width: "32.4" },
            67: { height: "21", left: "41.3", top: "31.2", transform: "174", width: "32.4" },
            68: { height: "21.0", left: "42.1", top: "32.6", transform: "176", width: "32.6" },
            69: { height: "21.1", left: "42.4", top: "33.2", transform: "176", width: "32.7" },
            70: { height: "21.1", left: "42.4", top: "33.2", transform: "176", width: "32.7" },
            71: { height: "21.2", left: "43.2", top: "34.2", transform: "179", width: "32.7" },
            72: { height: "21.2", left: "43.5", top: "34.8", transform: "179", width: "32.7" },
            73: { height: "21.2", left: "43.5", top: "34.8", transform: "179", width: "32.7" },
            74: { height: "21.2", left: "44", top: "35.6", transform: "179", width: "32.7" },
            75: { height: "21.2", left: "44.2", top: "35.9", transform: "179", width: "32.7" },
            76: { height: "21.2", left: "44.2", top: "35.9", transform: "179", width: "32.7" },
            77: { height: "21.2", left: "44.5", top: "36.5", transform: "180", width: "32.7" },
            78: { height: "21.3", left: "44.5", top: "36.6", transform: "180", width: "32.8" },
            79: { height: "21.3", left: "44.5", top: "36.6", transform: "180", width: "32.8" },
            80: { height: "21.3", left: "44.6", top: "36.6", transform: "180", width: "32.8" },
            81: { height: "21.3", left: "44.6", top: "36.6", transform: "180", width: "32.8" },
        }

        const firebaseConfig =
            firebase.initializeApp({
                apiKey: "AIzaSyC1v6FNfEXZET-w4JKcHrUoI93fDefK4Vw",
                authDomain: "animationarray-dacc8.firebaseapp.com",
                databaseURL: "https://animationarray-dacc8-default-rtdb.firebaseio.com/",
                projectId: "animationarray-dacc8",

            });

        // var db = firebase.firestore();
        var db = firebase.database().ref();
        array1 = firebase.database().ref("frame");
        let height
        //will need to be on window resize as well
        $(document).ready(function () {
            let fullSize = $(".mainBlock").height();
            let heightChanger = $(window).height();
            let fullSizeMinusHeight = fullSize - heightChanger;
            let moveTop = "-" + fullSizeMinusHeight + "px";
            height = fullSizeMinusHeight;
            console.log(moveTop);
            $(".mainBlock").css("top", moveTop);
            $(".videopage").css("top", 0);
            $("#animatorBox").draggable()

        });
        function download(filename, text) {
            var element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
            element.setAttribute('download', filename);

            element.style.display = 'none';
            document.body.appendChild(element);

            element.click();

            document.body.removeChild(element);
            filenumber++;
            resetFulldataSet()
        }
        let filenumber = 0;
        let filename = "framefile" + filenumber + ".txt";
        // Start file download.
        let fullDataSet = {
            objectLocation: "centerToBottom",
            frameNumber: 1,
            rotationY: 0,
            boxLeftLocation: 0,
            boxTopLocation: 0,
            perspectiveAdjustment: 700,
            WidthPercentage: 32.8,
            HeightPercentage: 22,
            rotationZ: 0,
            rotationX: 180,
        }
        // function resetFulldataSet() {
        //     fullDataSet.frameNumber = 0;
        //     fullDataSet.rotationY = 0;
        //     fullDataSet.boxLeftLocation = 0;
        //     fullDataSet.boxTopLocation = 0;
        //     fullDataSet.perspectiveAdjustment = 700;
        //     fullDataSet.WidthPercentage = 32.8;
        //     fullDataSet.HeightPercentage = 22;
        //     fullDataSet.rotationZ = 0;
        //     fullDataSet.rotationX = 0;
        // }
        function sendInfo(informationObject, frameNumber, movingObject) {

            objectName = movingObject + "/"
            firebase
                .database()
                .ref(objectName + frameNumber)
                .set(informationObject);
        }

        function getInfo(movingObject) {

            return firebase.database()
                .ref(movingObject)
                .once("value")
                .then(function (snapshot) {
                    let avatar = snapshot.val()
                    console.log(avatar);
                    let fullArray = [];

                    for (let index = 0; index < avatar.length; index++) {
                        const element = avatar[index];
                        if (index >= 0 && index <= 11) {
                            let cssLine2 = "height: '19%', left: '24.4%', top: '-22%', transform: '100', width: '22.4%'";
                            fullArray.push(cssLine2);
                            let newobject = new FrameObject("24.4", "-22", "100", "22.4", "19")
                            newObject[index] = newObject;
                        } else {
                            // let cssLine = "'left': " + element.left + "%, 'top': " + element.top + "%, 'transform': " + element.transform + ",'width': " + element.width + "%, 'height': " + element.height + "%";
                            // fullArray.push(cssLine);
                            let newobject = new FrameObject(element.left, element.top, element.transform, element.width, element.height)
                            newObject[index] = newObject;
                        }
                    }
                    console.log(newObject);
                });
        }





        let newObject = {};

        class FrameObject {
            constructor(left, top, transform, width, height) {
                this.left = left;
                this.top = top;
                this.transform = transform;
                this.height = height;
                this.width = width;
            }
        }
        $("#getInfo").click(function () {
            getInfo(fullDataSet.objectLocation);

        });
        $("#saveFile").click(function () {
            let informationObject = new FrameObject(fullDataSet.boxLeftLocation, fullDataSet.boxTopLocation, fullDataSet.rotationY, fullDataSet.WidthPercentage, fullDataSet.HeightPercentage)
            sendInfo(informationObject, fullDataSet.frameNumber, fullDataSet.objectLocation);
            console.log("saved button worked");
            // let percentageNumber = (fullDataSet.frameNumber * 100) / 81
            // let cssString = percentageNumber + '%{ left:' + fullDataSet.boxLeftLocation + '%; top: ' + fullDataSet.boxTopLocation + '%; transform: rotateY(' + fullDataSet.rotationY + 'deg); width: ' + fullDataSet.WidthPercentage + '%; height: ' + fullDataSet.HeightPercentage + '%;}'
            // download(filename, cssString);
        })


        function createAnimationCSS() {
            let cssObject;
            for (let index = 1; index < 81; index++) {
                const element = topToBottom[index];
                let percentage = (index * 100) / 81;

                let CSSString = "<p>" + percentage + "% { left:" + element.left + "%; top: " + element.top + "%; transform: rotateY(" + element.transform + "deg); width: " + element.width + "%; height: " + element.height + "%; }" + "</p>"
                cssObject = cssObject + CSSString;


            }
            $("#words").html(cssObject)
        }

        createAnimationCSS();
        var largeRotation = document.getElementById("largeRotation");
        var outputRotation = document.getElementById("RotationDeg");
        var smallRotation = document.getElementById("smallRotation");
        var slider = document.getElementById("myRange");
        var output = document.getElementById("demo");
        var slider2 = document.getElementById("myRange2");
        var output2 = document.getElementById("demo2");
        var slider3 = document.getElementById("myRange15");
        var output3 = document.getElementById("demo45");
        // let smallRotationconverted = smallRotation.value / 10;
        let fullDegressX = largeRotation.value + smallRotation.value / 10
        outputRotation.innerHTML = fullDegressX + " deg"
        output2.innerHTML = "Angle: " + slider2.value + " deg";
        output.innerHTML = "Frame: " + slider.value; // Display the default slider value
        let frame = 0;
        // Update the current slider value (each time you drag the slider handle)
        largeRotation.oninput = function () {
            let newValue = parseInt(largeRotation.value) + smallRotation.value / 10;
            console.log(largeRotation.value);
            outputRotation.innerHTML = newValue + " deg";
            fullDataSet.rotationX = newValue;
            $("#videopage2").css("transform", "rotateZ(" + newValue + "deg) rotateY(" + fullDataSet.rotationY + "deg)" + "rotateY(" + fullDataSet.rotationX + "deg)");

        }
        smallRotation.oninput = function () {
            let newValue = parseInt(largeRotation.value) + parseFloat(smallRotation.value / 10);
            outputRotation.innerHTML = newValue + " deg";
            console.log(newValue);
            fullDataSet.rotationX = newValue;
            $("#videopage2").css("transform", "rotateZ(" + newValue + "deg) rotateY(" + fullDataSet.rotationY + "deg)" + "rotateY(" + fullDataSet.rotationX + "deg)");

        }
        slider.oninput = function () {

            output.innerHTML = "Frame: " + this.value;
            frame = this.value;
            fullDataSet.frameNumber = this.value;
        }
        slider2.oninput = function () {
            output2.innerHTML = "Angle: " + this.value + " deg";
            $("#videopage2").css("transform", "rotateZ(" + fullDataSet.rotationZ + "deg) rotateY(" + this.value + "deg)" + "rotateX(" + fullDataSet.rotationX + "deg)");
            console.log("rotated to:" + this.value)
            fullDataSet.rotationY = this.value;
        }

        slider3.oninput = function () {
            output3.innerHTML = "Angle: " + this.value + " deg";
            $("#videopage2").css("transform", "rotateZ(" + fullDataSet.rotationZ + "deg) rotateX(" + this.value + "deg)rotateY(" + fullDataSet.rotationY + "deg)");
            console.log("rotated to:" + this.value)
            fullDataSet.rotationX = this.value;
        }
        $('#resetRotation').click(function () {
            largeRotation.value = 0;
            smallRotation.value = 0;
            let newValue = parseInt(largeRotation.value) + parseFloat(smallRotation.value / 10);
            outputRotation.innerHTML = newValue + " deg";
            console.log(newValue);
            fullDataSet.rotationZ = newValue;
            $("#videopage1").css("transform", "rotateZ(" + fullDataSet.rotationZ + "deg) rotateY(" + fullDataSet.rotationY + "deg) " + "rotateY(" + fullDataSet.rotationX + "deg)");
        })
        $("#leftinput").change(function () {
            console.log("hello" + this.value)
            $("#videopage2").css("left", this.value + "%");
            fullDataSet.boxLeftLocation = this.value;
        });
        $("#topInput").change(function () {
            console.log("hello" + this.value)
            $("#videopage2").css("top", this.value + "%");
            fullDataSet.boxTopLocation = this.value;
        });
        $("#widthInput").change(function () {
            console.log("hello" + this.value)
            $("#videopage2").css("width", this.value + "%");
            fullDataSet.WidthPercentage = this.value;
        });
        $("#heightInput").change(function () {
            console.log("hello" + this.value)
            $("#videopage2").css("height", this.value + "%");
            fullDataSet.HeightPercentage = this.value;
        });

        $("#inputNumber2").change(function () {
            console.log("hello" + this.value)
            $(".videoBlock").css("perspective", this.value + "px");
            fullDataSet.perspectiveAdjustment = this.value;
        });
        frame = 1;
        $('#playButton').click(function (e) {
            setInterval(() => {
                if (frame <= 81) {


                    parseInt
                    console.log({
                        "left": topToBottom[frame].left + "%", "top": topToBottom[frame].top + "%", "transform": topToBottom[frame].transform,
                        "width": topToBottom[frame].width + "%", "height": topToBottom[frame].height + "%",
                    });
                    $("#videopage1").css({
                        "left": topToBottom[frame].left + "%", "top": topToBottom[frame].top + "%", "transform": "rotateY(" + topToBottom[frame].transform + "deg)",
                        "width": topToBottom[frame].width + "%", "height": topToBottom[frame].height + "%",
                    });
                    $("#videopage2").css({
                        "left": centerToBottom[frame].left + "%", "top": centerToBottom[frame].top + "%", "transform": "rotateY(" + centerToBottom[frame].transform + "deg)",
                        "width": centerToBottom[frame].width + "%", "height": centerToBottom[frame].height + "%",
                    });
                    frame++;
                } else {

                    frame = 0;
                    $("#videopage1").css({
                        "left": topToBottom[frame].left + "%", "top": topToBottom[frame].top + "%", "transform": "rotateY(" + topToBottom[frame].transform + "deg)",
                        "width": topToBottom[frame].width + "%", "height": topToBottom[frame].height + "%",
                    });
                    $("#videopage2").css({
                        "left": centerToBottom[frame].left, "top": centerToBottom[frame].top, "transform": centerToBottom[frame].transform,
                        "width": centerToBottom[frame].width, "height": centerToBottom[frame].height
                    });

                }
            }, 0025);
            // console.log("play");
            // var vid = document.getElementById("v0");
            vid.playbackRate = 1;
            // let heightChanger = $(window).height();
            // console.log(heightChanger);
            // let newHeight = height - heightChanger;
            // console.log(newHeight);
            // let newHeightString = "-" + newHeight + "px";
            $('#v0').get(0).play();
            // $("#videopage1").addClass("downFrombottom");
            // $("#videopage2").addClass("downFromTop");
            // setTimeout(function () {
            //     $("#videopage1").removeClass("downFromTop");
            //     $("#videopage1").removeClass("downFrombottom");
            //     $("#videopage2").removeClass("downFromTop");
            //     $("#videopage2").removeClass("downFrombottom")
            // }, 3240);
            // (selector).animate({ styles }, speed, easing, callback)
            // setTimeout(function () {
            //     $(".mainBlock").animate({ top: newHeightString }, 2900);
            //     height = newHeight
            // }, 400);

        });

        $.fn.animateRotate = function (angle, duration, easing, complete) {
            var args = $.speed(duration, easing, complete);
            var step = args.step;
            return this.each(function (i, e) {
                args.complete = $.proxy(args.complete, e);
                args.step = function (now) {
                    $.style(e, 'transform', 'rotateY(' + now + 'deg)');
                    if (step) return step.apply(e, arguments);
                };

                $({ deg: 0 }).animate({ deg: angle }, args);
            });
        };
        // enterView({
        //     selector: 'section',
        //     enter: function (el) {
        //         el.classList.add('entered');
        //     }
        // })

        let frameNumber = 0, // start video at frame 0
            // lower numbers = faster playback
            playbackConst = 1,
            // get page height from video duration

            // select video element         
            vid = document.getElementById('v0');
        // var vid = $('#v0')[0]; // jquery option
        // dynamically set the page height according to video length
        // vid.addEventListener('loadedmetadata', function () {
        //     setHeight.style.height = Math.floor(vid.duration) * playbackConst + "px";
        // });

        // var navHeight = 1;

        // $('nav a').click(function (e) {
        //     e.preventDefault();
        //     console.log("hello");
        //     // var myHref = $(this).attr('href');
        //     // var newPos = $(myHref).offset().top;
        //     $('html, body').stop().animate({ scrollTop: 3000 }, 1300);
        // });

        // // Use requestAnimationFrame for smooth playback
        // function scrollPlay() {
        //     var frameNumber = frame / 2.4;
        //     vid.currentTime = frameNumber;
        //     window.requestAnimationFrame(scrollPlay);
        // }

        // window.requestAnimationFrame(scrollPlay);

    </script>
</body>

</html>